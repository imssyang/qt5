
# essentials
apt-get install build-essential libssl-dev python

# bluez stack (optional)
apt-get install libbluetooth-dev bluetooth blueman bluez libusb-dev libdbus-1-dev bluez-hcidump bluez-tools

# OpenGL EGL support
apt-get install mesa-utils libegl1-mesa libegl1-mesa-dev libgbm-dev libgbm1 libgl1-mesa-dev libgl1-mesa-dri libgl1-mesa-glx libglu1-mesa libglu1-mesa-dev 

apt-get install '^libxcb.*-dev' libx11-xcb-dev libglu1-mesa-dev libxrender-dev libxi-dev libxkbcommon-dev libxkbcommon-x11-dev

cd qt-everywhere-src-5.15.5
patch -Np1 -i ../qt-everywhere-opensource-src-5.15.5-kf5-1.patch

解决重复引用：
  删除qtbase/src/corelib/thread/thread.pri文件中SOURCES对qmutex_linux.cpp的引用

mkdir build && cd build

../configure -prefix /opt/qt5 \
  -sysconfdir /opt/qt5/conf \
  -confirm-license \
  -opensource \
  -release \
  -openssl-linked \
  -nomake examples \
  -nomake tests \
  -no-rpath \
  -syslog \
  -skip qtwebengine

  -opengl desktop \
  -platform linux-g++ \
  -system-sqlite \
  -dbus-linked \
  -system-harfbuzz \

make

